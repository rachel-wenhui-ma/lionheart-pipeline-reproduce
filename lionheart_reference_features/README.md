# LIONHEART Reference Features

This directory contains the reference feature files from LIONHEART's official output.

## Files

- **`feature_dataset.npy`**: The complete feature dataset from LIONHEART
  - Shape: `(10, 898)` - 10 feature types Ã— 898 cell types
  - Size: ~71 KB
  - Format: NumPy array (float64)
  - **Feature Types**:
    0. Pearson's R (standardized, mean=0, std=1)
    1. p-value
    2. Normalized dot product (within-mask fraction)
    3. Cosine Similarity
    4. x_sum
    5. y_sum
    6. x_squared_sum
    7. y_squared_sum
    8. xy_sum
    9. n

- **`standardization_params.json`**: Standardization parameters (optional, for reference)
  - Contains the mean and std used for standardizing Pearson R values
  - Not required by the model, but useful for understanding the standardization process

## Usage

These files are used for:
1. **Comparison**: Comparing our reproduction pipeline's output with LIONHEART's official results
2. **Validation**: Verifying that our feature extraction matches LIONHEART's implementation
3. **Reference**: Understanding the expected format and scale of features

## Source

These files were generated by running LIONHEART's official feature extraction pipeline on the example BAM file:
- Source location: `/home/mara/lionheart_work/output/dataset/`
- Generated: November 14, 2024

## Model Input Format

For LIONHEART model inference, only `feature_dataset.npy` is required:
- Path: `sample_dir/dataset/feature_dataset.npy`
- Shape: Must be `(10, 898)`
- The model only uses the first feature type (Pearson R, row 0)
- Pearson R must be standardized (mean=0, std=1)

